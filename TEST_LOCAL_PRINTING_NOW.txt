╔══════════════════════════════════════════════════════════════════╗
║           I-TEST ANG LOCAL PRINTING NGAYON!                      ║
╚══════════════════════════════════════════════════════════════════╝

IMPORTANTE: Bago mag-host sa Namecheap, dapat gumagana muna ang
            local printing gamit ang XAMPP!

┌──────────────────────────────────────────────────────────────────┐
│                  STEP 1: CHECK XAMPP                             │
└──────────────────────────────────────────────────────────────────┘

1. Siguraduhing naka-RUN ang XAMPP AS ADMINISTRATOR
   
   ✅ Double-click: RUN_XAMPP_AS_ADMIN.bat
   
   O kaya:
   - Right-click xampp-control.exe
   - Click "Run as administrator"

2. Verify na running ang Apache
   
   ✅ Green ang Apache sa XAMPP Control Panel


┌──────────────────────────────────────────────────────────────────┐
│                  STEP 2: CHECK PRINTER                           │
└──────────────────────────────────────────────────────────────────┘

1. Siguraduhing:
   ✅ POS-58 printer is connected (USB)
   ✅ Printer is powered ON
   ✅ Printer has paper
   ✅ Printer is ONLINE (no error lights)

2. Test sa Windows:
   - Open Settings → Printers & scanners
   - Find POS-58
   - Click "Manage" → "Print test page"
   - Dapat mag-print ✅


┌──────────────────────────────────────────────────────────────────┐
│                  STEP 3: TEST PRINTER NAME                       │
└──────────────────────────────────────────────────────────────────┘

1. Open sa browser:
   http://localhost/caps2e2/Api/test-printer-simple.php

2. Click "📋 Ipakita ang Lahat ng Printer"

3. Copy ang EXACT name ng printer mo
   Example: POS-58

4. Paste sa "Pangalan ng Printer" field

5. Click "🖨️ I-Test ang Printer"

6. Dapat mag-print ng test receipt ✅


┌──────────────────────────────────────────────────────────────────┐
│                  STEP 4: UPDATE PRINTER NAME                     │
└──────────────────────────────────────────────────────────────────┘

Kung iba ang printer name mo (hindi POS-58):

1. Open: Api/print-receipt-fixed-width.php

2. Hanapin ang line 152:
   $printerName = 'POS-58';

3. Palitan ng exact printer name mo:
   $printerName = 'YOUR-PRINTER-NAME';

4. Save ang file


┌──────────────────────────────────────────────────────────────────┐
│                  STEP 5: TEST SA POS SYSTEM                      │
└──────────────────────────────────────────────────────────────────┘

1. Make sure dev server is running:
   npm run dev

2. Open POS system:
   http://localhost:3000/POS_convenience

3. Add items to cart

4. Complete checkout

5. Dapat AUTOMATIC MAG-PRINT ng receipt ✅


┌──────────────────────────────────────────────────────────────────┐
│                  KUNG MAY PROBLEMA                               │
└──────────────────────────────────────────────────────────────────┘

PROBLEMA 1: "Access is denied"
SOLUSYON:
   ✅ Run XAMPP as Administrator
   ✅ Share ang printer sa network
   ✅ Restart Apache

PROBLEMA 2: "The system cannot find the file"
SOLUSYON:
   ✅ Check kung tama ang printer name
   ✅ Use test-printer-simple.php to get exact name

PROBLEMA 3: "Printer offline"
SOLUSYON:
   ✅ Check kung naka-on ang printer
   ✅ Check kung may papel
   ✅ Check USB connection
   ✅ Restart printer

PROBLEMA 4: Hindi nag-print from POS
SOLUSYON:
   ✅ Open browser console (F12)
   ✅ Check for errors
   ✅ Verify na nag-call ng print-receipt-fixed-width.php
   ✅ Check Api/php_errors.log for PHP errors


┌──────────────────────────────────────────────────────────────────┐
│                  CURRENT PRINTING FLOW                           │
└──────────────────────────────────────────────────────────────────┘

NGAYON (Local XAMPP):
   POS → print-receipt-fixed-width.php → Windows Print → Printer ✅

FUTURE (Namecheap Hosting):
   POS → Try server print (FAIL) → QZ Tray → Local Printer ✅

AUTOMATIC FALLBACK:
   1. Try server printing first (for local)
   2. If fails, try QZ Tray (for online)
   3. If both fail, show error


┌──────────────────────────────────────────────────────────────────┐
│                  CHECKLIST                                       │
└──────────────────────────────────────────────────────────────────┘

Before testing POS:
   [ ] XAMPP running as Administrator
   [ ] Apache is green
   [ ] Printer connected and online
   [ ] Printer has paper
   [ ] Test page prints from test-printer-simple.php
   [ ] Printer name is correct in print-receipt-fixed-width.php
   [ ] Dev server running (npm run dev)

Test steps:
   [ ] Open POS system
   [ ] Add items to cart
   [ ] Complete checkout
   [ ] Receipt prints automatically ✅


┌──────────────────────────────────────────────────────────────────┐
│                  DEBUGGING TIPS                                  │
└──────────────────────────────────────────────────────────────────┘

1. Check browser console (F12):
   - Look for "Sending receipt data"
   - Look for "Server print result"
   - Look for "✅ Receipt printed successfully via server!"

2. Check PHP errors:
   - Open: Api/php_errors.log
   - Look for recent errors

3. Test direct PHP call:
   - Open: http://localhost/caps2e2/Api/print-receipt-fixed-width.php
   - Should show error (because no POST data)
   - But should NOT show PHP errors

4. Verify shell_exec is enabled:
   - Open: http://localhost/caps2e2/CHECK_PHP_CONFIG.php
   - Should show shell_exec is ENABLED


╔══════════════════════════════════════════════════════════════════╗
║                         IMPORTANTE!                              ║
║                                                                  ║
║  Dapat GUMAGANA MUNA ang local printing bago mag-host!          ║
║                                                                  ║
║  Kapag naka-host na sa Namecheap:                               ║
║  - Server printing will fail (walang Windows commands)           ║
║  - Automatic na gagamitin ang QZ Tray                            ║
║  - Kailangan ng QZ Tray sa client computer                       ║
║                                                                  ║
║  Pero NGAYON, dapat mag-print na via server!                    ║
║                                                                  ║
╚══════════════════════════════════════════════════════════════════╝

QUICK TEST:
1. Double-click: RUN_XAMPP_AS_ADMIN.bat
2. Open: http://localhost/caps2e2/Api/test-printer-simple.php
3. Test print
4. If success, test sa POS system

Petsa: October 9, 2025
Status: Ready for Local Testing

