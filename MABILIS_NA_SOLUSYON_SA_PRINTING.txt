╔═══════════════════════════════════════════════════════════════╗
║       🖨️ MABILIS NA SOLUSYON: BAKIT HINDI NAG-PRINT?       ║
╚═══════════════════════════════════════════════════════════════╝

SAGOT: HINDI KAILANGAN NG PACKAGE, KAILANGAN LANG NG CONFIGURATION!

╔═══════════════════════════════════════════════════════════════╗
║                    ⚡ 5-MINUTE FIX ⚡                         ║
╚═══════════════════════════════════════════════════════════════╝

┌───────────────────────────────────────────────────────────────┐
│ STEP 1: I-CHECK ANG PHP CONFIGURATION                        │
└───────────────────────────────────────────────────────────────┘

1. I-open sa browser:
   http://localhost/caps2e2/CHECK_PHP_CONFIG.php

2. Tingnan kung:
   ✅ shell_exec() - ENABLED
   ✅ Shell Command Execution - WORKING
   ✅ Detected Printers - MAY PRINTER NAME

3. Kung may ❌ (RED X):
   → Sundin ang instructions sa page


┌───────────────────────────────────────────────────────────────┐
│ STEP 2: I-ENABLE ANG shell_exec() SA PHP                     │
└───────────────────────────────────────────────────────────────┘

1. I-open ang php.ini:
   C:\xampp\php\php.ini
   (Use Notepad, Run as Administrator)

2. Press Ctrl+F, hanapin: "disable_functions"

3. Tanggalin ang "shell_exec" kung nandoon:
   
   MALI:  disable_functions = shell_exec,exec,system
   TAMA:  disable_functions = exec,system
   
   O kaya:
   TAMA:  disable_functions = 

4. Save file (Ctrl+S)

5. I-restart ang Apache:
   XAMPP Control Panel → Stop Apache → Start Apache


┌───────────────────────────────────────────────────────────────┐
│ STEP 3: I-UPDATE ANG PRINTER NAME                            │
└───────────────────────────────────────────────────────────────┘

1. I-check ang printer name mo:
   Control Panel → Devices and Printers
   → Right-click printer → Printer properties
   → I-copy ang EXACT name (example: "POS-58" or "XP-58")

2. I-update sa code:
   File: Api/print-receipt-fixed-width.php
   Line: 149
   
   $printerName = 'POS-58';  ← PALITAN NG PRINTER NAME MO
   
   Halimbawa:
   - Kung "XP-58" ang printer mo:
     $printerName = 'XP-58';
   
   - Kung "Thermal Printer":
     $printerName = 'Thermal Printer';

3. Save file


┌───────────────────────────────────────────────────────────────┐
│ STEP 4: I-SHARE ANG PRINTER                                  │
└───────────────────────────────────────────────────────────────┘

1. Control Panel → Devices and Printers

2. Right-click sa thermal printer mo

3. Printer properties → Sharing tab

4. ✅ Check "Share this printer"

5. Click Apply → OK


┌───────────────────────────────────────────────────────────────┐
│ STEP 5: RUN XAMPP AS ADMINISTRATOR                           │
└───────────────────────────────────────────────────────────────┘

1. I-close ang XAMPP kung running

2. Go to: C:\xampp

3. Right-click: xampp-control.exe

4. Click: "Run as administrator"

5. Start Apache

   O KAYA gamitin ang RUN_XAMPP_AS_ADMIN.bat file


┌───────────────────────────────────────────────────────────────┐
│ STEP 6: I-TEST ANG PRINTER                                   │
└───────────────────────────────────────────────────────────────┘

Option A: AUTOMATIC TEST (Recommended)
   1. I-open sa browser:
      http://localhost/caps2e2/test-printer-direct.php
   
   2. Tingnan ang results:
      ✅ SUCCESS - Mag-print na!
      ❌ FAILED - May problema pa, basahin ang error

Option B: MANUAL TEST (Command Prompt)
   1. Open Command Prompt as Administrator
   2. Type:
      echo Test print > test.txt
      print /D:"POS-58" test.txt
      (Palitan ang "POS-58" ng printer name mo)
   
   3. Kung mag-print = OK ang printer setup
      Kung hindi = May problema sa printer/Windows


╔═══════════════════════════════════════════════════════════════╗
║                    📋 QUICK CHECKLIST                         ║
╚═══════════════════════════════════════════════════════════════╝

Bago mag-test ng POS system, check mo muna:

[  ] shell_exec() enabled sa php.ini
[  ] Apache restarted after php.ini change
[  ] XAMPP running as Administrator
[  ] Printer is ON
[  ] Printer may papel
[  ] Printer is shared (Sharing enabled)
[  ] Printer name sa code = printer name sa Windows
[  ] Printer is set as default printer


╔═══════════════════════════════════════════════════════════════╗
║              🆘 KUNG HINDI PA RIN GUMAGANA                    ║
╚═══════════════════════════════════════════════════════════════╝

1. Check error logs:
   C:\xampp\php\logs\php_error_log
   C:\xampp\apache\logs\error.log
   C:\xampp\htdocs\caps2e2\php_errors.log

2. I-disable muna ang antivirus temporarily
   (Baka nag-block ng PHP commands)

3. I-update ang printer driver
   (Download latest driver from manufacturer)

4. Try direct print from Notepad
   File → Print → Select thermal printer
   Kung gumana = PHP problem
   Kung hindi = Printer/Windows problem

5. Check kung USB cable ayos
   O kung network printer, check network connection


╔═══════════════════════════════════════════════════════════════╗
║                    💡 BACKUP SOLUTION                         ║
╚═══════════════════════════════════════════════════════════════╝

Kung TALAGA HINDI GUMANA ang automatic printing:

May BACKUP ang system - naka-save ang receipt sa:
   C:\xampp\htdocs\caps2e2\receipts\

Pwede mo i-open ang .txt files doon at i-print manually:
   1. Open file
   2. Ctrl+P (Print)
   3. Select thermal printer
   4. Print

Hindi ideal, pero at least may receipt pa rin!


╔═══════════════════════════════════════════════════════════════╗
║                 📞 KAILANGAN PA BA NG TULONG?                 ║
╚═══════════════════════════════════════════════════════════════╝

1. Basahin ang PRINTER_TROUBLESHOOTING_GUIDE.md
   (Mas detailed na guide)

2. I-run ang CHECK_PHP_CONFIG.php
   (Makikita mo kung ano ang problema)

3. I-run ang test-printer-direct.php
   (Test kung gumana ang printer)

4. Kung may error message, i-share para ma-troubleshoot


╔═══════════════════════════════════════════════════════════════╗
║                    ✨ COMMON ERRORS                           ║
╚═══════════════════════════════════════════════════════════════╝

ERROR: "shell_exec() has been disabled"
FIX:   I-enable sa php.ini (See STEP 2)

ERROR: "Printer not found"
FIX:   I-check printer name sa code (See STEP 3)

ERROR: "Access denied"
FIX:   Run XAMPP as Administrator (See STEP 5)

ERROR: "Unable to print"
FIX:   I-share ang printer (See STEP 4)
       + Check kung naka-ON
       + Check kung may papel

ERROR: Nag-print pero BLANK
FIX:   • Check kung thermal paper ang gamit
       • Check kung tama ang side ng paper (shiny side up)
       • Check kung hindi expired ang thermal paper


═══════════════════════════════════════════════════════════════

REMEMBER:
✅ Walang package na kailangan i-install
✅ PHP built-in commands lang ang ginagamit
✅ Kailangan lang ng tamang configuration
✅ At run as Administrator

═══════════════════════════════════════════════════════════════

